create database CARSALESSYSTEM
use CARSALESSYSTEM
go

set dateformat dmy
--NGUOIDUNG
CREATE TABLE ACCOUNT(
		USERNAME VARCHAR(100) NOT NULL,
		PASS VARCHAR(100) NOT NULL,
		TYPE_USER INT NOT NULL,--0:ADMIN,1:EMPLOYEE--
		CONSTRAINT PK_ND PRIMARY KEY(USERNAME)
)

--NHANVIEN
CREATE TABLE EMPLOYEE
(
		EMP_ID VARCHAR(4) NOT NULL,
		EMP_NAME NVARCHAR(100),
		EMP_ACCOUNT VARCHAR(100) NOT NULL,
		EMP_DATE_OF_BIRTH DATE,
		GENDER NVARCHAR(10),
		PHONE VARCHAR(20),
		EMP_ADDRESS NVARCHAR(50),
		DATE_OF_WORK DATE,
		SALARY MONEY,
		IMG VARBINARY(MAX),
		EMP_TYPE VARCHAR(20),
		CONSTRAINT PK_NV PRIMARY KEY(EMP_ID)
)
--KHACHHANG
CREATE SEQUENCE IDKH
AS INT
START WITH 01
INCREMENT BY 1;

CREATE TABLE CUSTOMER(
		CUS_ID VARCHAR(4) NOT NULL
			CONSTRAINT DF_KHACHHANG
			DEFAULT('KH' +RIGHT('0' + CAST(NEXT VALUE FOR IDKH AS VARCHAR(10)), 2)), -- NO 
		CUS_EMAIL VARCHAR(50),
		CUS_NAME NVARCHAR(100) NOT NULL,

		CUS_ACCOUNT VARCHAR(100) NOT NULL,
		CUS_DATE_OF_BIRTH DATE,
		GENDER NVARCHAR(10),
		PHONE VARCHAR(20) NOT NULL,
		CUS_ADDRESS NVARCHAR(50) NOT NULL,
		REGIST_DATE DATE,
		REVENUE MONEY,
		PRODUCT_NUMBER INT,
		IMG VARBINARY(MAX),
		RANK_ID VARCHAR(4),
		CONSTRAINT PK_KH PRIMARY KEY(CUS_ID)
)

--SANPHAM
CREATE TABLE PRODUCT(
		PRO_ID VARCHAR(4) NOT NULL,
		PRO_NAME NVARCHAR(100) NOT NULL,
		STORAGE_NUMBER INT,
		SELL_NUMBER INT,
		IRECEIPT_ID VARCHAR(4),
		PRICE MONEY NOT NULL,
		TYPEPRO_ID VARCHAR(4),
		PRODUCER_ID VARCHAR(4),
		IMG VARBINARY(MAX),
		PRO_YEAR INT,
		ENGINELAYOUT VARCHAR(20),
		DISPLACEMENT INT,
		MAXSPEED INT,
		MAXPOWER INT,
		ACCELERATION VARCHAR(10),
		TRACTION VARCHAR(20),
		CONSTRAINT PK_SP PRIMARY KEY(PRO_ID)
)

--NHASANXUAT	
CREATE TABLE PRODUCER(
		PRODUCER_ID VARCHAR(4) NOT NULL,
		PRODUCER_NAME VARCHAR(40),
		CONSTRAINT PK_NSX PRIMARY KEY(PRODUCER_ID)
)

--LOAISANPHAM
CREATE TABLE TYPEPRODUCT(
		TYPEPRODUCT_ID VARCHAR(4) NOT NULL,
		TYPEPRODUCT_NAME NVARCHAR(100),
		CONSTRAINT PK_LOAISP PRIMARY KEY(TYPEPRODUCT_ID)
)
--XEPHANG
CREATE TABLE RANK_MONEY(
		RANK_ID VARCHAR(4) NOT NULL,
		RANK_TYPE INT,
		CASH_LIMIT MONEY,
		DISCOUNT INT,
		CONSTRAINT PK_RANK PRIMARY KEY(RANK_ID)
)

--HOADONMUAHANG
CREATE SEQUENCE IDBH
AS INT
START WITH 01
INCREMENT BY 1;

CREATE TABLE SELLBILL(
		SB_ID VARCHAR(4) NOT NULL 
		CONSTRAINT DF_HDBH
			DEFAULT('BH' +RIGHT('0' + CAST(NEXT VALUE FOR IDKH AS VARCHAR(10)), 2)), -- NO 
		SB_DATEB DATETIME,
		CUSTOMER_ID VARCHAR(4) NOT NULL,
		PRO_ID VARCHAR(4),
		EMPLOYEE_ID VARCHAR(4) NOT NULL ,
		RANK_ID VARCHAR(4),
		TOTAL_PRICE MONEY,
		CONSTRAINT PK_HOADON PRIMARY KEY(SB_ID)
)

--HOADONBAOTRI
CREATE SEQUENCE IDBT
AS INT
START WITH 01
INCREMENT BY 1; 

CREATE TABLE MAINTENANCEBILL(
		MB_ID VARCHAR(4) NOT NULL
		CONSTRAINT DF_HDBT
			DEFAULT('BT' +RIGHT('0' + CAST(NEXT VALUE FOR IDKH AS VARCHAR(10)), 2)), -- NO 
		MB_DATE DATETIME,
		CUSTOMER_ID VARCHAR(4) NOT NULL,
		PRO_ID VARCHAR(4) NOT NULL,
		EMPLOYEE_ID VARCHAR(4),
		TOTALFEE MONEY,
		CONSTRAINT PK_HOADONBT PRIMARY KEY(MB_ID)
)
--HOADONDATHANG
CREATE SEQUENCE IDDH
AS INT
START WITH 01
INCREMENT BY 1; 

CREATE TABLE ORDERBILL(
		OB_ID VARCHAR(4) NOT NULL
		CONSTRAINT DF_HDDH
			DEFAULT('DH' +RIGHT('0' + CAST(NEXT VALUE FOR IDKH AS VARCHAR(10)), 2)), -- NO 
		OB_DATEB DATETIME,
		CUSTOMER_ID VARCHAR(4) NOT NULL,
		PRO_ID VARCHAR(4) NOT NULL,
		QUANTITY INT,
		RANK_ID VARCHAR(4),
		TOTAL_PRICE MONEY,
		CONSTRAINT PK_HOADONDATHANG PRIMARY KEY(OB_ID)
)

--HOADONNHAPTHANG
CREATE TABLE IMPORTRECEIPT(
		IRECEIPT_ID VARCHAR(4) NOT NULL,
		EMPLOYEE_ID VARCHAR(4),
		DATETIME_IMPORT DATETIME,
		TOTAL_PRICE MONEY,
		CONSTRAINT PK_HOADONNHAPHANG PRIMARY KEY(IRECEIPT_ID)
)
--HOADONDATHANGCHITIET
CREATE TABLE IMPORTRECEIPTINFO(
		IRECEIPT_ID VARCHAR(4) NOT NULL,
		PRO_ID VARCHAR(4) NOT NULL,
		QUANTITY INT,
		IMPORT_PRICE MONEY,
)

--KHOA NGOAI KHACHHANG & NHANVIEN
ALTER TABLE EMPLOYEE ADD CONSTRAINT FK_TAIKHOANNV_TAIKHOAN FOREIGN KEY(EMP_ACCOUNT) REFERENCES ACCOUNT(USERNAME);
ALTER TABLE CUSTOMER ADD CONSTRAINT FK_RANKKH_RANK FOREIGN KEY(RANK_ID) REFERENCES RANK_MONEY(RANK_ID);
ALTER TABLE CUSTOMER ADD CONSTRAINT FK_TAIKHOANKH_TAIKHOAN FOREIGN KEY(CUS_ACCOUNT) REFERENCES ACCOUNT(USERNAME);

--KHOA NGOAI SANPHAM
ALTER TABLE PRODUCT ADD CONSTRAINT FK_MALOAISP_MALOAI FOREIGN KEY(TYPEPRO_ID) REFERENCES TYPEPRODUCT(TYPEPRODUCT_ID);
ALTER TABLE PRODUCT ADD CONSTRAINT FK_MANSXSP_MANSX FOREIGN KEY(PRODUCER_ID) REFERENCES PRODUCER(PRODUCER_ID);
ALTER TABLE PRODUCT ADD CONSTRAINT FK_HDNH_PRODUCT FOREIGN KEY(IRECEIPT_ID) REFERENCES IMPORTRECEIPT(IRECEIPT_ID);

--KHOA NGOAI HOADONMUAHANG
ALTER TABLE SELLBILL ADD CONSTRAINT FK_MAKHMH FOREIGN KEY(CUSTOMER_ID) REFERENCES CUSTOMER(CUS_ID);
ALTER TABLE SELLBILL ADD CONSTRAINT FK_MANVMH FOREIGN KEY(EMPLOYEE_ID) REFERENCES EMPLOYEE(EMP_ID);
ALTER TABLE SELLBILL ADD CONSTRAINT FK_MASPMH FOREIGN KEY(PRO_ID) REFERENCES PRODUCT(PRO_ID);
ALTER TABLE SELLBILL ADD CONSTRAINT FK_MARANKMH FOREIGN KEY (RANK_ID) REFERENCES RANK_MONEY(RANK_ID)

--KHOA NGOAI HOADONDATHANG
ALTER TABLE ORDERBILL ADD CONSTRAINT FK_MAOB_CUSTOMER FOREIGN KEY(CUSTOMER_ID) REFERENCES CUSTOMER(CUS_ID);
ALTER TABLE ORDERBILL ADD CONSTRAINT FK_MAOB_RANK FOREIGN KEY(RANK_ID) REFERENCES RANK_MONEY(RANK_ID);
ALTER TABLE ORDERBILL ADD CONSTRAINT FK_MAOB_PRODUCT FOREIGN KEY(PRO_ID) REFERENCES PRODUCT(PRO_ID);

--KHOA NGOAI HOADONBAOTRI
ALTER TABLE MAINTENANCEBILL ADD CONSTRAINT FK_MAKHBT FOREIGN KEY(CUSTOMER_ID) REFERENCES CUSTOMER(CUS_ID);
ALTER TABLE MAINTENANCEBILL ADD CONSTRAINT FK_MANVBT FOREIGN KEY(EMPLOYEE_ID) REFERENCES EMPLOYEE(EMP_ID);
ALTER TABLE MAINTENANCEBILL ADD CONSTRAINT FK_MASPBT FOREIGN KEY(PRO_ID) REFERENCES PRODUCT(PRO_ID);

--KHOA NGOAI HOADONNHAPHANG
ALTER TABLE  IMPORTRECEIPT ADD CONSTRAINT FK_MAHDNH_NV FOREIGN KEY(EMPLOYEE_ID) REFERENCES EMPLOYEE(EMP_ID);

--KHOA NGOAI CHITIETHOADONNHAPHANG
ALTER TABLE  IMPORTRECEIPTINFO ADD CONSTRAINT FK_MACTHDNH_HDNH FOREIGN KEY(IRECEIPT_ID) REFERENCES IMPORTRECEIPT(IRECEIPT_ID);
ALTER TABLE  IMPORTRECEIPTINFO ADD CONSTRAINT FK_MACTHDNH_PRODUCT FOREIGN KEY(PRO_ID) REFERENCES PRODUCT(PRO_ID);


INSERT INTO ACCOUNT (USERNAME,PASS,TYPE_USER) VALUES ('GIABAO','123','0')

INSERT INTO ACCOUNT (USERNAME,PASS,TYPE_USER) VALUES ('KHANH01','123','1')
INSERT INTO ACCOUNT (USERNAME,PASS,TYPE_USER) VALUES ('BAO01','123','1')
INSERT INTO ACCOUNT (USERNAME,PASS,TYPE_USER) VALUES ('NAM01','123','1')

INSERT INTO ACCOUNT (USERNAME,PASS,TYPE_USER) VALUES ('VAN01','123','2')
INSERT INTO ACCOUNT (USERNAME,PASS,TYPE_USER) VALUES ('TAI01','123','2')
INSERT INTO ACCOUNT (USERNAME,PASS,TYPE_USER) VALUES ('CHI01','123','2')
INSERT INTO ACCOUNT (USERNAME,PASS,TYPE_USER) VALUES ('HAI01','123','2')
INSERT INTO ACCOUNT (USERNAME,PASS,TYPE_USER) VALUES ('LEE01','123','2')
INSERT INTO ACCOUNT (USERNAME,PASS,TYPE_USER) VALUES ('THI01','123','2')
INSERT INTO [ACCOUNT] (USERNAME,PASS,TYPE_USER)
VALUES
  ('Maecenas','E30s1i',2),
  ('amet','J89r1n',2),
  ('eu','N42h7u',2),
  ('metus','Z68y5b',2),
  ('id,','D36k6s',2);

select *from ACCOUNT
INSERT INTO RANK_MONEY(RANK_ID,RANK_TYPE,CASH_LIMIT,DISCOUNT) VALUES ('R00','0','0','0')
INSERT INTO RANK_MONEY(RANK_ID,RANK_TYPE,CASH_LIMIT,DISCOUNT) VALUES ('R01','1','2000000','2')
INSERT INTO RANK_MONEY(RANK_ID,RANK_TYPE,CASH_LIMIT,DISCOUNT) VALUES ('R02','2','5000000','4')
INSERT INTO RANK_MONEY(RANK_ID,RANK_TYPE,CASH_LIMIT,DISCOUNT) VALUES ('R03','3','10000000','7')


--- 1 NHAN VIEN --- 2 KHACHHANG
INSERT INTO EMPLOYEE (EMP_ID,EMP_ACCOUNT,EMP_NAME,EMP_ADDRESS,EMP_DATE_OF_BIRTH,GENDER,PHONE,SALARY,DATE_OF_WORK,EMP_TYPE) VALUES 
('EP01','KHANH01','NGUYEN VAN KHANH','110/1 CONG LO PHUONG 15 TAN BINH HCM','05-05-2002','MALE','09020421','2000','02-12-2012','MANAGER')
INSERT INTO EMPLOYEE (EMP_ID,EMP_ACCOUNT,EMP_NAME,EMP_ADDRESS,EMP_DATE_OF_BIRTH,GENDER,PHONE,SALARY,DATE_OF_WORK,EMP_TYPE) VALUES 
('EP02','NAM01','NGUYEN HOANG NAM','110/1 CONG LO PHUONG 15 TAN BINH HCM','15-04-2002','MALE','09020421','1000','12-02-2012','SALES')
INSERT INTO EMPLOYEE (EMP_ID,EMP_ACCOUNT,EMP_NAME,EMP_ADDRESS,EMP_DATE_OF_BIRTH,GENDER,PHONE,SALARY,DATE_OF_WORK,EMP_TYPE) VALUES 
('EP03','BAO01','TRAN DU GIA BAO','110/1 CONG LO PHUONG 15 TAN BINH HCM','02-05-2013','MALE','09020421','1000','12-02-2012','SALES')

INSERT INTO CUSTOMER(CUS_ACCOUNT,CUS_NAME,CUS_DATE_OF_BIRTH,GENDER,PHONE,CUS_ADDRESS,REGIST_DATE,REVENUE,PRODUCT_NUMBER,RANK_ID) VALUES
('VAN01','NGUYEN THI VAN','21-01-2002','FEMALE','0902040129','110/12 CONG LO PHUONG 15 TAN BINH HCM','21-11-2012','3000000','2','R01')
INSERT INTO CUSTOMER(CUS_ACCOUNT,CUS_NAME,CUS_DATE_OF_BIRTH,GENDER,PHONE,CUS_ADDRESS,REGIST_DATE,REVENUE,PRODUCT_NUMBER,RANK_ID) VALUES
('TAI01','NGUYEN VAN TAI','04-01-2002','MALE','0902040129','110/12 CONG LO PHUONG 15 TAN BINH HCM','1-10-2012','12000000','3','R03')
INSERT INTO CUSTOMER(CUS_ACCOUNT,CUS_NAME,CUS_DATE_OF_BIRTH,GENDER,PHONE,CUS_ADDRESS,REGIST_DATE,REVENUE,PRODUCT_NUMBER,RANK_ID) VALUES
('CHI01','NGUYEN LINH CHI','10-02-2001','FEMALE','0902040129','110/12 CONG LO PHUONG 15 TAN BINH HCM','16-11-2012','0','0','R00')
INSERT INTO CUSTOMER(CUS_ACCOUNT,CUS_NAME,CUS_DATE_OF_BIRTH,GENDER,PHONE,CUS_ADDRESS,REGIST_DATE,REVENUE,PRODUCT_NUMBER,RANK_ID) VALUES
('HAI01','HAI LEE','01-21-2002','FEMALE','0902040129','110/12 CONG LO PHUONG 15 TAN BINH HCM','11-21-2012','3000000','3','R02')
INSERT INTO CUSTOMER(CUS_ACCOUNT,CUS_NAME,CUS_DATE_OF_BIRTH,GENDER,PHONE,CUS_ADDRESS,REGIST_DATE,REVENUE,PRODUCT_NUMBER,RANK_ID) VALUES
('THI01','HAI THI','01-21-2002','FEMALE','0902040129','110/12 CONG LO PHUONG 15 TAN BINH HCM','11-21-2012','3000000','3','R02')
INSERT INTO CUSTOMER(CUS_ACCOUNT,CUS_NAME,CUS_DATE_OF_BIRTH,GENDER,PHONE,CUS_ADDRESS,REGIST_DATE,REVENUE,PRODUCT_NUMBER,RANK_ID) VALUES
('LEE01','KEE LEE','01-21-2002','FEMALE','0902040129','110/12 CONG LO PHUONG 15 TAN BINH HCM','11-21-2012','3000000','3','R02')

INSERT INTO [CUSTOMER] (CUS_ACCOUNT,CUS_NAME,CUS_DATE_OF_BIRTH,PHONE,CUS_ADDRESS,REGIST_DATE,REVENUE,PRODUCT_NUMBER,RANK_ID,CUS_EMAIL)
VALUES
  ('Maecenas','Scarlett Lambert','Aug 5, 2022','1-864-622-5413','376-1994 Posuere, Ave','Feb 22, 2018','$8,453,954.48','2','R01','metus@protonmail.org'),
  ('amet','Tanisha Green','Jun 8, 2022','1-773-437-4235','Ap #313-3755 Pede Ave','Feb 10, 2021','$6,028,206.92','2','R02','mauris.sit@icloud.edu'),
  ('eu','Dalton Britt','Jan 17, 2024','(635) 452-5584','P.O. Box 564, 6214 Luctus St.','Jul 4, 2018','$1,953,276.48','3','R02','praesent@yahoo.couk'),
  ('metus','Branden Arnold','Jul 14, 2023','(848) 785-0018','Ap #232-6626 Dolor. Street','Feb 16, 2019','$1,131,815.70','2','R03','magnis.dis.parturient@icloud.ca'),
  ('id,','Galena Daniels','May 16, 2023','(833) 755-9187','925-2053 Purus Avenue','Dec 4, 2021','$9,604,940.68','0','R01','donec.tincidunt@yahoo.com');
INSERT INTO  PRODUCER(PRODUCER_ID,PRODUCER_NAME) VALUES ('CC1','BUGATTI');
INSERT INTO  PRODUCER(PRODUCER_ID,PRODUCER_NAME) VALUES ('CC2','TESLA');
INSERT INTO  PRODUCER(PRODUCER_ID,PRODUCER_NAME) VALUES ('CC3','TOYOTA');
INSERT INTO  PRODUCER(PRODUCER_ID,PRODUCER_NAME) VALUES ('CC4','LAMBORGHINI');
INSERT INTO  PRODUCER(PRODUCER_ID,PRODUCER_NAME) VALUES ('CC5','LEXUS');
INSERT INTO  PRODUCER(PRODUCER_ID,PRODUCER_NAME) VALUES ('CC6','ROLLS-ROYCE');
INSERT INTO  PRODUCER(PRODUCER_ID,PRODUCER_NAME) VALUES ('CC7','MASERATI');

INSERT INTO TYPEPRODUCT(TYPEPRODUCT_ID,TYPEPRODUCT_NAME) VALUES ('L01','COUPE');
INSERT INTO TYPEPRODUCT(TYPEPRODUCT_ID,TYPEPRODUCT_NAME) VALUES ('L02','SUV');
INSERT INTO TYPEPRODUCT(TYPEPRODUCT_ID,TYPEPRODUCT_NAME) VALUES ('L03','PICKUP');
INSERT INTO TYPEPRODUCT(TYPEPRODUCT_ID,TYPEPRODUCT_NAME) VALUES ('L04','VAN');
INSERT INTO TYPEPRODUCT(TYPEPRODUCT_ID,TYPEPRODUCT_NAME) VALUES ('L05','TRUCK');
INSERT INTO TYPEPRODUCT(TYPEPRODUCT_ID,TYPEPRODUCT_NAME) VALUES ('L06','CABRIOLET');
INSERT INTO TYPEPRODUCT(TYPEPRODUCT_ID,TYPEPRODUCT_NAME) VALUES ('L07','SEDAN');

INSERT INTO IMPORTRECEIPT(IRECEIPT_ID,EMPLOYEE_ID,DATETIME_IMPORT,TOTAL_PRICE) VALUES ('NH01','EP01','11-02-2022 6:10:00 PM','20000000');
INSERT INTO IMPORTRECEIPT(IRECEIPT_ID,EMPLOYEE_ID,DATETIME_IMPORT,TOTAL_PRICE) VALUES ('NH02','EP01','11-02-2022 6:20:00 PM','30000000');
INSERT INTO IMPORTRECEIPT(IRECEIPT_ID,EMPLOYEE_ID,DATETIME_IMPORT,TOTAL_PRICE) VALUES ('NH03','EP01','11-02-2022 1:10:00 PM','90000000');
INSERT INTO IMPORTRECEIPT(IRECEIPT_ID,EMPLOYEE_ID,DATETIME_IMPORT,TOTAL_PRICE) VALUES ('NH04','EP01','11-02-2022 9:10:00 PM','25000000');
INSERT INTO IMPORTRECEIPT(IRECEIPT_ID,EMPLOYEE_ID,DATETIME_IMPORT,TOTAL_PRICE) VALUES ('NH05','EP02','11-03-2022 12:10:00 PM','900000000');
INSERT INTO IMPORTRECEIPT(IRECEIPT_ID,EMPLOYEE_ID,DATETIME_IMPORT,TOTAL_PRICE) VALUES ('NH06','EP03','11-02-2022 6:30:00 PM','20000000');

INSERT INTO PRODUCT(PRO_ID,PRO_NAME,STORAGE_NUMBER,SELL_NUMBER,IRECEIPT_ID,TYPEPRO_ID,PRICE,PRODUCER_ID,IMG,PRO_YEAR,ENGINELAYOUT,DISPLACEMENT,MAXSPEED,ACCELERATION,TRACTION)
VALUES ('P001','CHIRON','10','5','NH01','L01','25000000','CC1',(SELECT * FROM OPENROWSET(BULK N'C:\Code\CarSalesSystem\Resources\Images\Cars\Products\bugatichirron.png', SINGLE_BLOB) as T1),'2022','V8','3998','420','4.1','AWD');
INSERT INTO PRODUCT(PRO_ID,PRO_NAME,STORAGE_NUMBER,SELL_NUMBER,IRECEIPT_ID,TYPEPRO_ID,PRICE,PRODUCER_ID,IMG,PRO_YEAR,ENGINELAYOUT,DISPLACEMENT,MAXSPEED,ACCELERATION,TRACTION)
VALUES ('P002','MC20','10','6','NH02','L01','7500000','CC7',(SELECT * FROM OPENROWSET(BULK N'C:\Code\CarSalesSystem\Resources\Images\Cars\Products\MC20.png', SINGLE_BLOB) as T1),'2022','V4','2998','300','3.9','AWD')
INSERT INTO PRODUCT(PRO_ID,PRO_NAME,STORAGE_NUMBER,SELL_NUMBER,IRECEIPT_ID,TYPEPRO_ID,PRICE,PRODUCER_ID,IMG,PRO_YEAR,ENGINELAYOUT,DISPLACEMENT,MAXSPEED,ACCELERATION,TRACTION)
VALUES ('P003','VIOS','20','15','NH03','L01','35000000','CC3',(SELECT * FROM OPENROWSET(BULK N'C:\Code\CarSalesSystem\Resources\Images\Cars\Products\toyota.png', SINGLE_BLOB) as T1),'2018','V4','2998','100','1.9','AWD')
INSERT INTO PRODUCT(PRO_ID,PRO_NAME,STORAGE_NUMBER,SELL_NUMBER,IRECEIPT_ID,TYPEPRO_ID,PRICE,PRODUCER_ID,IMG,PRO_YEAR,ENGINELAYOUT,DISPLACEMENT,MAXSPEED,ACCELERATION,TRACTION)
VALUES ('P004','MODLE X','20','1','NH04','L02','29900000','CC2',(SELECT * FROM OPENROWSET(BULK N'C:\Code\CarSalesSystem\Resources\Images\Cars\Products\tesla.png', SINGLE_BLOB) as T1),'2021','V2','2111','150','2.9','AWD')
INSERT INTO PRODUCT(PRO_ID,PRO_NAME,STORAGE_NUMBER,SELL_NUMBER,IRECEIPT_ID,TYPEPRO_ID,PRICE,PRODUCER_ID,IMG,PRO_YEAR,ENGINELAYOUT,DISPLACEMENT,MAXSPEED,ACCELERATION,TRACTION)
VALUES ('P005','CULLIAN','5','2','NH05','L01','10000000','CC6',(SELECT * FROM OPENROWSET(BULK N'C:\Code\CarSalesSystem\Resources\Images\Cars\Products\rollroycecullian.png', SINGLE_BLOB) as T1),'2018','V4','2998','300','4.1','AWD')
INSERT INTO PRODUCT(PRO_ID,PRO_NAME,STORAGE_NUMBER,SELL_NUMBER,IRECEIPT_ID,TYPEPRO_ID,PRICE,PRODUCER_ID,IMG,PRO_YEAR,ENGINELAYOUT,DISPLACEMENT,MAXSPEED,ACCELERATION,TRACTION)
VALUES ('P006','L63','10','6','NH06','L01','15000000','CC5',(SELECT * FROM OPENROWSET(BULK N'C:\Code\CarSalesSystem\Resources\Images\Cars\Products\lexus.png', SINGLE_BLOB) as T1),'2020','V2.1','127','180','2.9','AWD')

INSERT INTO  IMPORTRECEIPTINFO(IRECEIPT_ID,PRO_ID,QUANTITY,IMPORT_PRICE) VALUES ('NH01','P001','10','25000000');
INSERT INTO  IMPORTRECEIPTINFO(IRECEIPT_ID,PRO_ID,QUANTITY,IMPORT_PRICE) VALUES ('NH02','P002','10','25000000');
INSERT INTO  IMPORTRECEIPTINFO(IRECEIPT_ID,PRO_ID,QUANTITY,IMPORT_PRICE) VALUES ('NH03','P003','20','25000000');
INSERT INTO  IMPORTRECEIPTINFO(IRECEIPT_ID,PRO_ID,QUANTITY,IMPORT_PRICE) VALUES ('NH04','P004','20','25000000');
INSERT INTO  IMPORTRECEIPTINFO(IRECEIPT_ID,PRO_ID,QUANTITY,IMPORT_PRICE) VALUES ('NH05','P005','5','25000000');
INSERT INTO  IMPORTRECEIPTINFO(IRECEIPT_ID,PRO_ID,QUANTITY,IMPORT_PRICE) VALUES ('NH06','P006','10','25000000');

INSERT INTO SELLBILL(SB_ID,SB_DATEB,CUSTOMER_ID,PRO_ID,EMPLOYEE_ID,TOTAL_PRICE,RANK_ID) VALUES
('0001','12-12-2014','KH02','P001','EP01','20000000','R01')


select * from ORDERBILL
insert into ORDERBILL(OB_DATEB,CUSTOMER_ID,PRO_ID,QUANTITY,RANK_ID,TOTAL_PRICE) values ('04-01-2002','KH01','P001',1,'R01','35000000')
insert into ORDERBILL(OB_DATEB,CUSTOMER_ID,PRO_ID,QUANTITY,RANK_ID,TOTAL_PRICE) values ('04-01-2002','KH02','P002',1,'R01','35000000')
insert into ORDERBILL(OB_DATEB,CUSTOMER_ID,PRO_ID,QUANTITY,RANK_ID,TOTAL_PRICE) values ('04-01-2002','KH03','P003',1,'R01','35000000')
insert into ORDERBILL(OB_DATEB,CUSTOMER_ID,PRO_ID,QUANTITY,RANK_ID,TOTAL_PRICE) values ('04-01-2002','KH01','P004',1,'R01','35000000')
insert into ORDERBILL(OB_DATEB,CUSTOMER_ID,PRO_ID,QUANTITY,RANK_ID,TOTAL_PRICE) values ('04-01-2002','KH02','P005',1,'R01','35000000')
insert into ORDERBILL(OB_DATEB,CUSTOMER_ID,PRO_ID,QUANTITY,RANK_ID,TOTAL_PRICE) values ('04-01-2002','KH03','P006',1,'R01','35000000')


select *from CUSTOMER
select *from ORDERBILL
delete from ORDERBILL
ALTER TABLE MAINTENANCEBILL
  ADD BILL_STATUS VARCHAR(40);
  select * from MAINTENANCEBILL

select *from MAINTENANCEBILL
select *from SELLBILL

INSERT INTO SELLBILL(SB_ID,SB_DATEB,CUSTOMER_ID,PRO_ID,EMPLOYEE_ID,TOTAL_PRICE,RANK_ID) VALUES
('0002','12-12-2014','KH01','P001','EP01','20000000','R01')
INSERT INTO SELLBILL(SB_ID,SB_DATEB,CUSTOMER_ID,PRO_ID,EMPLOYEE_ID,TOTAL_PRICE,RANK_ID) VALUES
('0003','12-12-2014','KH02','P003','EP01','30000000','R01')
INSERT INTO SELLBILL(SB_ID,SB_DATEB,CUSTOMER_ID,PRO_ID,EMPLOYEE_ID,TOTAL_PRICE,RANK_ID) VALUES
('0004','12-12-2014','KH03','P002','EP01','10000000','R01')
INSERT INTO SELLBILL(SB_ID,SB_DATEB,CUSTOMER_ID,PRO_ID,EMPLOYEE_ID,TOTAL_PRICE,RANK_ID) VALUES

('0005','12-12-2014','KH13','P002','EP01','40000000','R01')

INSERT INTO SELLBILL(SB_ID,SB_DATEB,CUSTOMER_ID,PRO_ID,EMPLOYEE_ID,TOTAL_PRICE,RANK_ID) VALUES
('0006','01-19-2010','KH01','P003','EP02','10000000','R02')
INSERT INTO SELLBILL(SB_ID,SB_DATEB,CUSTOMER_ID,PRO_ID,EMPLOYEE_ID,TOTAL_PRICE,RANK_ID) VALUES
('0007','07-27-2003','KH02','P002','EP02','40000000','R02')
INSERT INTO SELLBILL(SB_ID,SB_DATEB,CUSTOMER_ID,PRO_ID,EMPLOYEE_ID,TOTAL_PRICE,RANK_ID) VALUES
('0008','06-12-2015','KH03','P001','EP02','30000000','R02')
INSERT INTO SELLBILL(SB_ID,SB_DATEB,CUSTOMER_ID,PRO_ID,EMPLOYEE_ID,TOTAL_PRICE,RANK_ID) VALUES
('0009','04-30-2016','KH13','P002','EP02','20000000','R02')

INSERT INTO SELLBILL(SB_ID,SB_DATEB,CUSTOMER_ID,PRO_ID,EMPLOYEE_ID,TOTAL_PRICE,RANK_ID) VALUES
('0010','10-12-2019','KH01','P002','EP03','40000000','R03')
INSERT INTO SELLBILL(SB_ID,SB_DATEB,CUSTOMER_ID,PRO_ID,EMPLOYEE_ID,TOTAL_PRICE,RANK_ID) VALUES
('0011','08-08-2020','KH02','P001','EP03','10000000','R03')
INSERT INTO SELLBILL(SB_ID,SB_DATEB,CUSTOMER_ID,PRO_ID,EMPLOYEE_ID,TOTAL_PRICE,RANK_ID) VALUES
('0012','01-03-2018','KH03','P003','EP03','20000000','R03')
INSERT INTO SELLBILL(SB_ID,SB_DATEB,CUSTOMER_ID,PRO_ID,EMPLOYEE_ID,TOTAL_PRICE,RANK_ID) VALUES
('0013','08-09-2011','KH13','P003','EP03','30000000','R03')


ALTER TABLE EMPLOYEE
  ADD IsDeleted int;
ALTER TABLE CUSTOMER
ADD CUS_EMAIL VARCHAR(50);
ALTER TABLE ACCOUNT
ADD LOGIN_RECENT DATE;
ALTER TABLE EMPLOYEE
  ADD DateOfWork int;

select PRODUCER.PRODUCER_ID, PRODUCER.PRODUCER_NAME from PRODUCER